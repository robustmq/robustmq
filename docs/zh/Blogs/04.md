# RobustMQ 整体架构概述

> RobustMQ 是基于 Rust 构建的新一代高性能多协议消息队列。愿景是成为新一代云原生与 AI 原生消息基础设施。它不是简单的"又一个消息队列"，而是面向AI时代和云原生需求，对消息队列进行的一次重新思考和设计。

在上篇[《RobustMQ: 技术设计理念综述》](02.md)中讲述了RobustMQ 的核心技术思想。它有六个特点：高性能、Serverless、插件式存储、极简高内聚架构、 计算/存储/调度分离、多协议。本文我们将会详细讲解 RobustMQ 整体架构的设计实现。

### 启动 RobustMQ 

- 【单机版】启动1节点的 RobustMQ
```
./bin/robust-server start
```
- 【集群版】启动3节点的 RobustMQ
```
./bin/robust-server start config/node1.toml
./bin/robust-server start config/node2.toml
./bin/robust-server start config/node3.toml
```
在RobustMQ 配置文件中，有一个关键的配置是roles，它的意思是，当前这台节点可以作为什么角色运行。 roles有三个选项: 
- meta：元数据节点
- broker：计算节点
- journal： 存储节点

如果是单节点集群，那么一定需要有meta和broker。因为集群中必须有元数据节点和Broker节点，可以没有journal，因为journal 是本地的持久化存储。如果存储引擎配置为非本地持久化存储，比如内存、HDFS等等，则不需要节点承担这个角色。

如果是集群化部署，那么一定要有一个meta节点和一个broker节点。其他节点可以根据需要配置成meta或者broker节点。举个例子，假设我们有三个节点，我们可以让这三个节点都是meta和broker，那么我们就有三个meta节点组成的集群，三个broker节点组成的集群。如果我们有六个节点，可以三个节点是meta，三个节点是


### 架构
![image](../../images/robustmq-architecture.png)