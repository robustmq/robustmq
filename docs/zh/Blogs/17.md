# RobustMQ：构建下一代统一消息平台的战略思考

在过去几个月的深入思考和讨论中，我们逐渐清晰了RobustMQ的战略定位和发展路径。这不是一个追求快速商业化的项目，而是一个致力于打造伟大基础软件的长期事业。我们想通过这篇文章，完整阐述RobustMQ的技术愿景、战略选择和执行理念。

## 我们的愿景：下一代消息平台

RobustMQ的核心愿景很简单：**在一个足够强大的内核基础上，构建支持多种协议、适配多种场景的统一消息平台**。我们希望未来的企业不需要同时部署EMQX、Kafka、RabbitMQ等等多套消息系统，而是用一套RobustMQ就能解决从IoT设备连接、到实时流处理、到微服务通信的所有消息需求。

这个愿景听起来很大，也确实很大。但我们相信这是消息中间件发展的必然方向。就像Linux统一了Unix的碎片化，Kubernetes统一了容器编排的混乱，下一代消息平台也需要统一当前分散的消息基础设施。

当然，伟大的愿景需要正确的路径和足够的耐心来实现。

## 技术基石：统一内核架构

RobustMQ的技术架构采用三层设计：最底层是用Rust实现的统一消息内核，中间层是多协议适配层，最上层是各种应用场景的优化。

统一内核是整个系统的基石。我们在内核层实现了高性能消息路由引擎、存算分离架构、插件化存储抽象、弹性伸缩调度等核心能力。这些能力是协议无关、场景无关的，它们构成了RobustMQ的技术护城河。

在内核之上，我们设计了协议适配层。MQTT、Kafka、AMQP等不同的协议，本质上都是内核能力的不同表现形式。MQTT需要发布订阅和QoS保障，Kafka需要分区和流式处理，AMQP需要复杂的路由规则——这些看似不同的需求，在内核层面都能找到统一的抽象。

应用场景层则是针对特定业务场景的优化。IoT设备连接需要海量长连接管理，AI训练需要高吞吐和低延迟，实时分析需要流式处理能力——这些优化建立在协议层之上，但都共享同一个内核。

这种分层架构的优势在于：一旦内核足够强大和稳定，新增协议和场景就变得相对容易。我们不需要为每个协议重新实现底层逻辑，只需要开发适配层。这就是"一次构建，多次复用"的力量。

## 执行原则：深度优先，串行演进

我们非常清楚，在资源有限的情况下，最大的风险是"什么都想做，什么都做不好"。历史上太多开源项目死于过度扩张：功能列表很长，但每个功能都只完成了60-70%，最后被用户抛弃。

因此，RobustMQ采用了明确的执行原则：**一个协议做到100%完整度，才会启动下一个协议的开发**。这不是保守，而是对用户负责，对技术负责。

我们的第一个协议是MQTT。选择MQTT有几个原因：协议规范清晰，实现路径明确，测试标准成熟，而且能够充分验证内核的各项能力。MQTT的发布订阅模型、QoS机制、会话管理、遗嘱消息等特性，都需要内核提供强大的支持。如果MQTT能做好，说明内核是稳定可靠的。

MQTT做到100%意味着什么？不仅仅是协议的功能完整性，还包括生产级的稳定性、业界领先的性能、完善的文档和工具、充分的用户验证。我们不会因为"基本能用"就急于开始下一个协议，而是会持续打磨，直到真正做到极致。

当MQTT达到100%后，我们会启动Kafka协议的开发。有了MQTT的经验和成熟的内核，Kafka的开发会更加顺利。同样，Kafka也要做到100%，然后才是AMQP，然后是其他协议。这是一个串行的、渐进的过程，每一步都扎实，每个协议都是精品。

## 多场景并行：人气与验证

虽然协议开发是串行的，但我们不会等MQTT完全做好才开始接触其他场景。在专注MQTT开发的同时，我们会用少量资源探索AI训练、流处理等其他场景。

这不是分散精力，而是有明确目的的。AI训练场景对消息队列的要求极其苛刻：微秒级延迟、高吞吐量、大文件传输、弹性扩缩容。如果我们的内核能够支持AI训练这种硬核场景，说明内核设计是成功的，也能向社区展示我们的技术实力。

更重要的是，AI场景能够帮助我们积累人气和关注度。AI是当前技术领域的热点，围绕AI的讨论和关注度远超传统的消息队列话题。通过在AI社区发声、在技术会议上展示AI场景的应用、发布相关的技术文章和性能测试报告，我们可以吸引更多技术社区的关注，建立"技术领先"的品牌印象。

同样，我们也会搭建Kafka协议的基础框架。虽然Kafka协议的完整开发要等到MQTT达到100%之后，但提前搭建框架、展示开发进展、发布技术规划，可以让Kafka用户知道我们在做什么，扩大潜在用户群，为未来的Kafka正式开发预热。

这就是我们说的"多轮驱动"：MQTT是主轮，必须转得又快又稳；AI和Kafka是辅助轮，用来积累人气、验证技术、扩大影响。主轮承载实力，辅助轮创造声量。

## 社区第一：开源的本质

我们深知，伟大的基础软件必然是社区驱动的。Linux、PostgreSQL、Kubernetes的成功都证明了这一点。

从项目启动的第一天起，我们就把社区建设放在重要位置。技术博客的持续输出、Discord社区的运营、GitHub Issue的及时回复、技术会议的积极参与、外部贡献者的培养和激励——这些都是社区建设的日常工作。

我们不会等到"产品成熟了再建社区"，而是让社区伴随产品一起成长。早期用户的反馈帮助我们改进产品，外部贡献者的参与让代码质量更高，技术讨论让我们避免闭门造车。社区的活跃度是检验项目是否自嗨的最好标准。

Apache基金会也是我们战略中的重要一环。进入Apache孵化器不仅是品牌认证，更重要的是通过Apache的治理框架建立健康的社区文化。Apache的"社区大于代码"理念、透明的决策流程、规范的发布机制，都能帮助RobustMQ成为一个真正由社区驱动的项目。

但我们也清楚，进入Apache不能太早。只有当产品足够成熟、社区足够活跃、影响力足够大的时候，进入Apache才是水到渠成，而不是抱着"希望Apache帮我们成长"的心态。我们的目标是以强者的姿态进入，快速毕业成为顶级项目，而不是在孵化器里停滞多年。

## 技术纯粹性：不妥协的选择

选择Rust不是为了赶时髦，而是经过深思熟虑的技术决策。当前主流消息队列大多用Java实现，虽然生态成熟，但GC停顿、内存效率、并发性能都有局限。也有一些产品尝试用C++实现，性能确实更好，但开发效率低、内存安全问题突出。

Rust给了我们一个完美的选择：接近C++的性能、内存安全的保障、现代化的开发体验。零GC停顿意味着延迟更稳定，所有权系统意味着并发更安全，强类型系统意味着代码更可靠。这些特性在消息队列这种对性能和可靠性要求极高的场景中，价值是显而易见的。

存算分离不是为了追求架构的先进性，而是云原生时代的必然选择。计算层无状态，可以快速扩缩容；存储层独立，可以根据数据量灵活配置；调度层分离，可以智能优化资源。这种架构让RobustMQ天然具备Serverless能力，适应云原生环境的弹性需求。

我们在技术上不会妥协。不会为了快速推出产品而降低代码质量，不会为了兼容性而牺牲架构优雅性，不会为了市场需求而偏离技术本质。这种纯粹性可能让我们走得慢一些，但能确保我们走得远、走得稳。

## 耐心与长期主义

我们没有商业化的压力，这既是优势也是考验。优势在于我们可以专注技术，不被短期利益干扰；考验在于如何保持长期的投入和动力。

看看那些伟大的开源项目，Linux用了30年成为服务器标准，PostgreSQL用了25年超越MySQL，Rust用了10年被Linux内核采用，Kubernetes用了7年成为云原生标准。伟大的基础软件需要时间，需要持续的投入，需要坚定的信念。

我们给自己的时间是10年。前5年专注于技术打磨和社区建设，一个协议一个协议地做到极致，一步一个脚印地积累用户和口碑。当技术足够成熟、社区足够活跃、影响力足够大的时候，商业化会是自然而然的事情。

这不是说我们完全不考虑商业化。恰恰相反，我们会用"是否有商业化潜力"来验证技术方向的正确性。如果技术做得好，自然会有用户愿意使用；如果用户愿意使用，未来就有商业化的可能；如果连商业化的前景都没有，说明这个方向可能有问题。商业化是验证手段，不是目的，但也不能忽视。

我们会在技术设计时就考虑未来的商业化需求：多租户能力、企业级安全、运维便利性、SLA保障等。积累的每一个生产用户，都是未来潜在的付费客户。我们只是不急于现在就去收费，但会为未来的商业化做好准备。

## 避免自嗨：真实需求验证

技术驱动的项目最大的风险是自嗨。我们解决的是自己臆想的问题，做出来的东西只有自己觉得好，用户完全不买账。避免这个陷阱的唯一方法是持续接触真实用户，倾听真实需求。

MQTT场景的验证相对直接。IoT企业有明确的设备连接需求，EMQX的成功证明了市场的真实性。我们需要做的是深度服务早期用户，收集详细反馈，确保我们的MQTT实现真的解决了他们的问题，而不是自己觉得解决了。

AI场景的探索则更需要谨慎。虽然我们看到AI训练中数据管道的潜在机会，但这个需求是否真实、是否迫切、是否愿意为更好的方案付出成本，都需要通过深度的用户访谈和实际的POC验证来确认。我们会投入资源去探索，但如果验证下来需求不够强烈，我们也会果断放弃，不会在一个不确定的方向上浪费时间。

社区的反馈是另一个重要的验证维度。如果我们做的东西真的有价值，自然会吸引关注和讨论。GitHub的Star数、社区的活跃度、外部贡献者的参与度，都是重要的信号。如果几个月过去了社区依然冷清，那可能不是宣传不够，而是产品本身还不够好，或者方向有偏差。

Apache基金会的审核也是一种外部验证。当我们申请进入Apache孵化器时，会有经验丰富的导师审查项目的技术质量、社区健康度、发展前景。如果他们认可，说明我们的方向是对的；如果他们质疑，说明我们需要调整。我们不会为了进Apache而进，而是把它作为一次全面的健康检查。

## 深度优先：质量胜于数量

我们的执行哲学是深度优先。一个协议没有做到100%，绝不会启动下一个协议的开发。这个100%不仅仅是功能完整性，还包括生产级的稳定性、业界领先的性能、完善的文档和测试、充分的用户验证。

为什么如此强调100%？因为在基础软件领域，70分和100分的差距是巨大的。用户可能会因为一个小bug、一个性能问题、一个不完善的功能就放弃使用。而且，如果第一个协议都做不好，用户不会相信你能把第二个、第三个协议做好。第一张名片决定了别人对你的印象。

MQTT是我们的第一张名片。我们会投入主要资源，确保MQTT的每一个细节都打磨到位。当用户评估"我该用EMQX还是RobustMQ"时，我们希望答案是RobustMQ，不是因为我们的宣传，而是因为我们的技术确实更好。

这种深度优先的策略意味着我们会走得慢一些。可能别的项目两年就支持了五个协议，而我们两年只完成了一个协议。但我们的一个协议是100分，而他们的五个协议可能都是60分。用户会用脚投票，市场会给出答案。

## 人气与影响力：技术品牌的建立

虽然我们专注深度，但这不意味着我们只埋头开发，不与外界交流。恰恰相反，建立技术品牌和社区影响力，与写好代码同样重要。

这就是为什么我们会同时探索AI训练等场景。AI是当前技术领域的热点，对消息队列的性能要求也最为苛刻。通过展示RobustMQ在AI训练中的应用，我们可以证明技术实力，吸引技术社区的关注。技术会议上的演讲、性能测试报告的发布、与主流AI框架的集成，都是建立品牌的机会。

Kafka协议框架的搭建也是出于类似的考虑。虽然Kafka的完整开发要等MQTT做到100%之后，但提前搭建框架、发布开发计划、展示技术思路，可以让Kafka用户知道我们的存在，扩大项目的影响力。当他们在搜索"Kafka alternative"时，能看到RobustMQ的名字。

技术博客的持续输出是建立影响力的重要手段。我们会分享架构设计的思考、实现过程中的技术挑战、性能优化的经验、与竞品的对比分析。这些内容不仅能吸引关注，还能吸引志同道合的开发者加入社区，贡献代码和想法。

GitHub的Stars、Discord的成员数、技术文章的阅读量，这些指标虽然不是目的，但是过程中的重要反馈。它们告诉我们社区对项目的兴趣程度，帮助我们调整宣传策略和技术方向。

## 商业化：长期目标，当下准备

我们不急于商业化，但商业化是长期目标。这看似矛盾，实则统一。

我们相信，优秀的技术会自然吸引用户，广泛的用户会带来商业价值。Linux本身不商业化，但围绕Linux的商业公司遍地开花。PostgreSQL是完全开源的，但AWS、Azure等云服务基于它赚了数十亿美元。Kubernetes成为标准后，Rancher、Pivotal等公司都获得了巨大的商业成功。

RobustMQ的商业化可能在5到10年后，当技术足够成熟、用户足够多、生态足够繁荣的时候。那时候，可能是我们自己成立公司提供托管服务和企业支持，也可能是其他公司基于RobustMQ进行商业化，两种路径都可以。

虽然不急于商业化，但我们会在技术设计时就考虑商业化的需求。多租户隔离、企业级安全、精细化监控、运维自动化，这些企业客户关心的特性，会在架构设计之初就考虑进去。我们积累的每个生产用户，都是在验证商业化的可能性。当未来启动商业化时，这些用户就是最好的转化基础。

用商业化来验证技术方向，但不被商业化绑架。这是我们的平衡之道。

## 时间的力量：10年磨一剑

很多人问我们：为什么要花这么长时间？为什么不快速迭代、快速推向市场？

答案很简单：我们要做的是基础软件，不是应用产品。基础软件的特点是一旦被采用，就会长期使用，深度依赖。企业不会频繁更换消息中间件，一旦选定，可能用5年、10年甚至更久。这意味着基础软件必须足够稳定、足够可靠、足够完善。

这种稳定性和可靠性需要时间来验证。需要在各种生产环境中运行，遇到各种边缘情况，经历各种压力测试。需要被数百上千个用户使用，收集反馈，持续改进。这个过程急不得，也绕不过。

我们给自己的时间是10年。这不是保守，而是对用户负责，对技术负责。10年后的RobustMQ，应该是一个经过充分验证、被广泛采用、技术上无可挑剔的成熟产品。那时候，无论是继续开源，还是商业化运作，都有坚实的基础。

时间是基础软件最好的朋友。我们相信时间的力量，也愿意给时间足够的空间。

## 写在最后

RobustMQ的战略可以总结为几个关键词：统一、深度、耐心、开放。

统一是我们的愿景——用一个内核、一套系统，解决所有消息场景的需求。深度是我们的执行原则——一个协议做到100%，才做下一个。耐心是我们的时间观——10年打磨技术，不急于求成。开放是我们的态度——拥抱社区，接受检验，持续学习。

我们知道这条路很长，也知道这条路不容易。市场上已经有很多优秀的消息队列产品，建立差异化不容易，获得用户信任不容易，建立活跃社区不容易。但正因为不容易，才值得做。

我们相信，只要方向正确、技术过硬、社区健康、持续投入，RobustMQ终将成为消息中间件领域的重要一员。也许不会像Kafka那样统治市场，但至少会成为一个值得尊敬的选择，一个技术上优秀、社区活跃、值得信赖的开源项目。

这就是我们想做的事情。用10年时间，构建下一代统一消息平台，为云原生和AI时代提供更好的基础设施。

路很长，但方向很清晰。我们已经上路了。