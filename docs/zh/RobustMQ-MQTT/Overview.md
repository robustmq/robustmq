# RobustMQ MQTT 概览

## 简介

RobustMQ MQTT 是 RobustMQ 对 MQTT 协议的完整实现，提供高性能、高可用的消息传递服务。作为企业级的 MQTT 消息代理，RobustMQ MQTT 完全兼容 MQTT 3.1、3.1.1 和 5.0 协议标准，确保与现有 MQTT 生态系统的无缝集成。

## 核心优势

- **100% 协议兼容**：完全支持标准 MQTT 协议，兼容所有 MQTT 客户端、SDK 和工具
- **高性能架构**：支持百万级单机连接和百亿级集群连接
- **企业级特性**：提供集群化部署、高可用性、安全认证等企业级功能
- **功能完整**：覆盖 MQTT 协议的所有核心功能，与主流 MQTT 代理功能对齐
- **云原生支持**：支持 Kubernetes 部署和云原生架构

## 核心功能特性

### 协议支持

| 功能 | 描述 | 支持状态 |
|------|------|----------|
| MQTT 协议 | 完整支持 MQTT 3.1/3.1.1/5.0 的所有特性 | ✅ 完全支持 |
| 网络协议 | 支持 TCP、SSL、WebSocket、WebSockets、QUIC 协议接入 | ✅ 完全支持 |
| 发布/订阅 | 标准的 MQTT 发布订阅模式 | ✅ 完全支持 |
| QoS 等级 | 支持 QoS 0、1、2 三个等级 | ✅ 完全支持 |
| 通配符订阅 | 支持单层通配符 `+` 和多层通配符 `#` | ✅ 完全支持 |

### MQTT 5.0 特性

| 功能 | 描述 | 支持状态 |
|------|------|----------|
| 用户属性 | User Properties 支持 | ✅ 完全支持 |
| 主题别名 | Topic Alias 支持 | ✅ 完全支持 |
| 载荷格式指示 | Payload Format Indicator & Content Type | ✅ 完全支持 |
| 共享订阅 | Shared Subscriptions | ✅ 完全支持 |
| 订阅选项 | Subscription Options | ✅ 完全支持 |
| 订阅标识符 | Subscription Identifier | ✅ 完全支持 |
| 消息过期间隔 | Message Expiry Interval | ✅ 完全支持 |
| 最大报文大小 | Maximum Packet Size | ✅ 完全支持 |
| 请求/响应 | Request/Response 模式 | ✅ 完全支持 |

### 高级功能

| 功能 | 描述 | 支持状态 |
|------|------|----------|
| 会话管理 | 支持 Session 持久化和过期 | ✅ 完全支持 |
| 保留消息 | Retained Messages | ✅ 完全支持 |
| 遗嘱消息 | Will Messages | ✅ 完全支持 |
| 排他订阅 | Exclusive Subscriptions | ✅ 完全支持 |
| 延迟发布 | Delayed Publishing | ✅ 完全支持 |
| 自动订阅 | Auto Subscription | ✅ 完全支持 |
| 主题重写 | Topic Rewrite | ✅ 完全支持 |
| 系统主题 | System Topics | ✅ 完全支持 |
| 慢订阅统计 | Slow Subscription Statistics | ✅ 完全支持 |

### 安全与认证

| 功能 | 描述 | 支持状态 |
|------|------|----------|
| 密码认证 | 支持内置数据库、MySQL、Redis 的密码认证 | ✅ 完全支持 |
| 访问控制 | 支持内置数据库、MySQL、Redis 的授权实现 | ✅ 完全支持 |
| 黑名单 | 客户端黑名单管理 | ✅ 完全支持 |
| 连接抖动检测 | 连接抖动检测和防护 | ✅ 完全支持 |

### 数据集成与存储

| 功能 | 描述 | 支持状态 |
|------|------|----------|
| 数据集成 | 支持 File、Kafka 的桥接连接器 | ✅ 完全支持 |
| Schema 支持 | 支持 JSON、Protobuf、AVRO 格式 | ✅ 完全支持 |
| 离线消息 | 支持基于 Memory、RocksDB、MySQL、Journal Engine、S3、Minio 等存储引擎 | ✅ 完全支持 |
| 消息存储策略 | 当 Topic 没有订阅时，消息会被自动丢弃 | ✅ 完全支持 |

### 监控与运维

| 功能 | 描述 | 支持状态 |
|------|------|----------|
| 指标监控 | 支持集群/Topic 等维度的监控指标 | ✅ 完全支持 |
| Prometheus 集成 | 支持 Prometheus 指标导出 | ✅ 完全支持 |
| 链路追踪 | 支持分布式链路追踪 | ✅ 完全支持 |

### 部署与扩展

| 功能 | 描述 | 支持状态 |
|------|------|----------|
| 集群化部署 | Broker 节点无状态部署，单集群最多支持几百上千台 Broker 节点 | ✅ 完全支持 |
| 单机最大连接 | 单机可承载百万级连接 | ✅ 完全支持 |
| 集群最大连接 | 集群可承载百亿级连接 | ✅ 完全支持 |
| 云原生支持 | 支持 Kubernetes 部署和云原生架构 | ✅ 完全支持 |

## 与 EMQX 功能对比

### 核心能力对比

| 功能类别 | 特性 | EMQX | RobustMQ MQTT | 说明 |
|----------|------|------|---------------|------|
| **MQTT 协议** | MQTT 5.0 Broker | ✅ 支持 | ✅ 支持 | 完全兼容 |
| | MQTT over QUIC | ✅ 支持 | ✅ 支持 | 完全兼容 |
| | MQTT 扩展功能 | ✅ 支持 | ✅ 支持 | 完全兼容 |
| **高级特性** | 多协议网关 | ✅ 支持 | ❌ 不支持 | 计划支持 |
| | 多租户 | ✅ 支持 | ❌ 不支持 | 计划支持 |
| | 集群连接 | ✅ 支持 | ❌ 不支持 | 计划支持 |
| | 规则引擎 | ✅ 支持 | ❌ 不支持 | 计划支持 |
| | Flow 设计器 | ✅ 支持 | ❌ 不支持 | 计划支持 |
| | 文件传输 | ✅ 支持 | ❌ 不支持 | 计划支持 |
| | 边缘计算 | ✅ 支持 | ❌ 不支持 | 计划支持 |
| **数据管理** | 事件历史 | ✅ 支持 | ✅ 支持 | 完全兼容 |
| | 数据持久化 | ✅ 支持 | ✅ 支持 | 完全兼容 |
| | Schema Registry | ✅ 支持 | ✅ 支持 | 完全兼容 |
| | 消息编解码 | ✅ 支持 | ✅ 支持 | 完全兼容 |
| | 消息验证 | ✅ 支持 | ✅ 支持 | 完全兼容 |
| **数据集成** | Kafka 集成 | ✅ 支持 | ✅ 支持 | 完全兼容 |
| | 企业级数据集成 | ✅ 支持（40+） | ✅ 支持（2+） | 持续扩展 |
| **运维监控** | 故障排查 | ✅ 支持 | ✅ 支持 | 完全兼容 |
| | Cloud-Native & K8s | ✅ 支持 | ✅ 支持 | 完全兼容 |

### 功能覆盖度

- **MQTT 核心功能**：100% 覆盖
- **企业级特性**：90% 覆盖
- **数据集成**：基础功能覆盖，持续扩展中
- **高级功能**：部分覆盖，按计划逐步支持

## 管理工具

### Dashboard

RobustMQ Dashboard 已完成对 RobustMQ MQTT 协议功能的支持，提供直观的 Web 界面来管理和监控 MQTT 服务。

**访问地址**：[http://117.72.92.117:8080/](http://117.72.92.117:8080/)

**主要功能**：

- 客户端连接管理
- 主题订阅监控
- 消息流量统计
- 系统性能监控
- 配置管理

### 命令行工具

RobustMQ MQTT 支持 `robust-ctl mqtt` 命令行工具，提供完整的 MQTT 管理功能。

**主要功能**：

- 客户端管理
- 主题管理
- 消息发布/订阅
- 系统状态查询
- 配置管理

详细文档请参考：[robustmq-ctl mqtt](../RobustMQ-Command/CLI_COMMON.md)

## 快速开始

1. **安装部署**：参考 [安装部署指南](../InstallationDeployment/Docker-Deployment)
2. **配置管理**：参考 [配置文档](../Configuration/COMMON)
3. **客户端连接**：参考 [客户端 SDK](SDK/c-sdk)
4. **功能使用**：参考各功能模块的详细文档
